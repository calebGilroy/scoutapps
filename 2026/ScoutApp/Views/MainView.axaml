<UserControl
    x:Class="ScoutApp.Views.MainView"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:cvt="using:ScoutApp.Converter"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:vm="using:ScoutApp.ViewModels"
    d:DesignHeight="600"
    d:DesignWidth="800"
    x:DataType="vm:MainViewModel">
    <!--  Use Alt-Shift-F to format. Do this continually!  -->

    <Design.DataContext>
        <vm:MainViewModel />
    </Design.DataContext>

    <UserControl.Resources>
        <cvt:EnumToBooleanConverter x:Key="EnumToBooleanConverter" />

        <Color x:Key="black_color">#000000</Color>
        <Color x:Key="text_color">#FFFFFF</Color>
        <Color x:Key="background_color">#4D4D4D</Color>
        <Color x:Key="accent_color">#F36716</Color>
        <Color x:Key="lightgrey_color">#C2C4C3</Color>
        <Color x:Key="offwhite_color">#D1CAC3</Color>
        <Color x:Key="darkgrey_color">#636363</Color>
        <Color x:Key="orange_color">#FF5722</Color>
        <Color x:Key="thirdbutton_color">#DED6CE</Color>
        <Color x:Key="secondary_color">#0D6EFD</Color>
        <Color x:Key="error_color">#F2110C</Color>
        <Color x:Key="green_color">#1FA659</Color>

        <SolidColorBrush x:Key="black" Color="{StaticResource black_color}" />
        <SolidColorBrush x:Key="text" Color="{StaticResource text_color}" />
        <SolidColorBrush x:Key="background" Color="{StaticResource background_color}" />
        <SolidColorBrush x:Key="accent" Color="{StaticResource accent_color}" />
        <SolidColorBrush x:Key="lightgrey" Color="{StaticResource lightgrey_color}" />
        <SolidColorBrush x:Key="offwhite" Color="{StaticResource offwhite_color}" />
        <SolidColorBrush x:Key="darkgrey" Color="{StaticResource darkgrey_color}" />
        <SolidColorBrush x:Key="orange" Color="{StaticResource orange_color}" />
        <SolidColorBrush x:Key="thirdbutton" Color="{StaticResource thirdbutton_color}" />
        <SolidColorBrush x:Key="secondary" Color="{StaticResource secondary_color}" />
        <SolidColorBrush x:Key="error" Color="{StaticResource error_color}" />
        <SolidColorBrush x:Key="green" Color="{StaticResource green_color}" />
    </UserControl.Resources>

    <UserControl.Styles>
        <Style Selector="ToggleButton">
            <Setter Property="Background" Value="{StaticResource darkgrey}" />
            <Setter Property="Foreground" Value="{StaticResource accent}" />
            <Setter Property="Template">
                <ControlTemplate>
                    <Border
                        Padding="6"
                        Background="{TemplateBinding Background}"
                        CornerRadius="4">
                        <ContentPresenter
                            HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                            VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                            Content="{TemplateBinding Content}" />
                    </Border>
                </ControlTemplate>
            </Setter>
        </Style>
        <Style Selector="ToggleButton:checked">
            <Setter Property="Background" Value="{StaticResource secondary}" />
            <Setter Property="Foreground" Value="{StaticResource text}" />
        </Style>
        <Style Selector="ToggleButton:pointerover">
            <Setter Property="Background" Value="{StaticResource darkgrey}" />
            <Setter Property="Foreground" Value="{StaticResource accent}" />
        </Style>
        <Style Selector="ToggleButton:focused">
            <Setter Property="Background" Value="{StaticResource darkgrey}" />
            <Setter Property="Foreground" Value="{StaticResource accent}" />
        </Style>
        <Style Selector="ToggleButton:pressed">
            <Setter Property="Background" Value="{StaticResource darkgrey}" />
            <Setter Property="Foreground" Value="{StaticResource accent}" />
        </Style>
        <Style Selector="ToggleButton:checked:pointerover">
            <Setter Property="Background" Value="{StaticResource secondary}" />
            <Setter Property="Foreground" Value="{StaticResource text}" />
        </Style>
        <Style Selector="ToggleButton:checked:focused">
            <Setter Property="Background" Value="{StaticResource secondary}" />
            <Setter Property="Foreground" Value="{StaticResource text}" />
        </Style>
    </UserControl.Styles>

    <ScrollViewer VerticalScrollBarVisibility="Visible">

        <Grid
            HorizontalAlignment="Left"
            VerticalAlignment="Top"
            Background="{StaticResource background}"
            ColumnDefinitions="Auto,Auto,Auto,Auto"
            RowDefinitions="Auto,Auto,Auto,Auto,Auto">

            <ToggleButton
                Grid.Row="0"
                Grid.Column="0"
                Margin="20,10,20,0"
                Command="{Binding HeadingButtonCommand}"
                CommandParameter="PreMatch"
                Content="PRE-MATCH"
                FontWeight="Bold"
                IsChecked="{Binding SelectedHeadingButton, Converter={StaticResource EnumToBooleanConverter}, ConverterParameter={x:Static vm:HeadingButtons.PreMatch}}" />
            <ToggleButton
                Grid.Row="0"
                Grid.Column="1"
                Margin="20,10,20,0"
                Command="{Binding HeadingButtonCommand}"
                CommandParameter="Auto"
                Content="AUTO"
                FontWeight="Bold"
                IsChecked="{Binding SelectedHeadingButton, Converter={StaticResource EnumToBooleanConverter}, ConverterParameter={x:Static vm:HeadingButtons.Auto}}" />
            <ToggleButton
                Grid.Row="0"
                Grid.Column="2"
                Margin="20,10,20,0"
                Command="{Binding HeadingButtonCommand}"
                CommandParameter="TeleOp"
                Content="TELEOP"
                FontWeight="Bold"
                IsChecked="{Binding SelectedHeadingButton, Converter={StaticResource EnumToBooleanConverter}, ConverterParameter={x:Static vm:HeadingButtons.TeleOp}}" />
            <ToggleButton
                Grid.Row="0"
                Grid.Column="3"
                Margin="20,10,20,0"
                Command="{Binding HeadingButtonCommand}"
                CommandParameter="PostMatch"
                Content="POST-MATCH"
                FontWeight="Bold"
                IsChecked="{Binding SelectedHeadingButton, Converter={StaticResource EnumToBooleanConverter}, ConverterParameter={x:Static vm:HeadingButtons.PostMatch}}" />

            <!--  Pre-Match  -->
            <StackPanel
                Grid.Row="1"
                Grid.ColumnSpan="4"
                Margin="0,20,0,0"
                HorizontalAlignment="Center"
                IsVisible="{Binding SelectedHeadingButton, Converter={StaticResource EnumToBooleanConverter}, ConverterParameter={x:Static vm:HeadingButtons.PreMatch}}"
                Orientation="Vertical">

                <TextBlock HorizontalAlignment="Center" FontWeight="Bold">
                    Scout Name:
                </TextBlock>
                <TextBox
                    Margin="0,10,0,50"
                    HorizontalAlignment="Center"
                    Text="{Binding ScoutName}" />

                <TextBlock HorizontalAlignment="Center" FontWeight="Bold">
                    Match Number:
                </TextBlock>
                <NumericUpDown
                    Margin="0,10,0,50"
                    HorizontalAlignment="Center"
                    FormatString="0"
                    Minimum="0"
                    Value="{Binding MatchNumber}" />

                <TextBlock HorizontalAlignment="Center" FontWeight="Bold">
                    Team Number:
                </TextBlock>
                <NumericUpDown
                    Margin="0,10,0,50"
                    HorizontalAlignment="Center"
                    FormatString="0"
                    Minimum="0"
                    Value="{Binding TeamNumber}" />

                <TextBlock HorizontalAlignment="Center" FontWeight="Bold">
                    Alliance Position:
                </TextBlock>
                <ComboBox
                    Width="150"
                    Margin="0,10,0,50"
                    SelectedItem="{Binding SelectedAlliancePosition, Mode=TwoWay}">
                    <ComboBox.Items>
                        <x:Static Member="vm:AlliancePosition.Red1" />
                        <x:Static Member="vm:AlliancePosition.Red2" />
                        <x:Static Member="vm:AlliancePosition.Red3" />
                        <x:Static Member="vm:AlliancePosition.Blue1" />
                        <x:Static Member="vm:AlliancePosition.Blue2" />
                        <x:Static Member="vm:AlliancePosition.Blue3" />
                    </ComboBox.Items>
                </ComboBox>
            </StackPanel>

            <!--  Post-Match  -->
            <StackPanel
                Grid.Row="2"
                Grid.ColumnSpan="4"
                Margin="0,20,0,20"
                HorizontalAlignment="Center"
                IsVisible="{Binding SelectedHeadingButton, Converter={StaticResource EnumToBooleanConverter}, ConverterParameter={x:Static vm:HeadingButtons.PostMatch}}"
                Orientation="Vertical">
                <Button
                    HorizontalAlignment="Center"
                    HorizontalContentAlignment="Center"
                    Background="{StaticResource darkgrey}"
                    Command="{Binding ToggleSummaryCommand}"
                    Content="Summary"
                    FontWeight="Bold"
                    Foreground="{StaticResource accent}" />
                <TextBlock
                    Margin="0,10,0,0"
                    IsVisible="{Binding ShowSummary}"
                    Text="{Binding Summary}" />
                <Image
                    Width="300"
                    Height="300"
                    Margin="0,20,0,0"
                    Source="{Binding QRCode1}"
                    Stretch="Fill" />
                <Button
                    Margin="0,20,0,0"
                    HorizontalAlignment="Center"
                    Background="{StaticResource darkgrey}"
                    Command="{Binding NextMatchCommand}"
                    Content="Next Match"
                    FontWeight="Bold"
                    Foreground="{StaticResource accent}" />
            </StackPanel>

            <!--  Auto  -->
            <Grid
                Grid.Row="3"
                Grid.Column="0"
                Grid.ColumnSpan="4"
                Margin="0,20,0,20"
                HorizontalAlignment="Center"
                ColumnDefinitions="Auto,Auto"
                IsVisible="{Binding SelectedHeadingButton, Converter={StaticResource EnumToBooleanConverter}, ConverterParameter={x:Static vm:HeadingButtons.Auto}}"
                RowDefinitions="Auto,Auto,Auto,Auto,Auto">

                <TextBlock
                    Grid.Row="0"
                    Grid.Column="0"
                    Height="32"
                    Margin="0,0,20,0"
                    FontWeight="Bold">
                    Auto Starting Position:
                </TextBlock>
                <ComboBox
                    Grid.Row="0"
                    Grid.Column="1"
                    Width="150"
                    SelectedItem="{Binding SPosition2026, Mode=TwoWay}">
                    <ComboBox.Items>
                        <x:Static Member="vm:AutoStartingPosition.Left" />
                        <x:Static Member="vm:AutoStartingPosition.Center" />
                        <x:Static Member="vm:AutoStartingPosition.Right" />
                    </ComboBox.Items>
                </ComboBox>

                <TextBlock
                    Grid.Row="1"
                    Grid.Column="0"
                    Height="32"
                    Margin="0,20,0,0"
                    FontWeight="Bold">
                    Auto Move:
                </TextBlock>
                <CheckBox
                    Grid.Row="1"
                    Grid.Column="1"
                    Margin="0,20,0,0"
                    HorizontalAlignment="Center"
                    IsChecked="{Binding AutoMove}" />

                <StackPanel
                    Grid.Row="2"
                    Grid.Column="0"
                    Grid.ColumnSpan="2"
                    Margin="0,20,0,0"
                    Orientation="Horizontal">

                    <StackPanel Margin="0,0,25,0" Orientation="Vertical">

                        <TextBlock
                            Height="32"
                            Margin="0,32,0,0"
                            FontWeight="Bold">
                            FUEL into HUB
                        </TextBlock>

                        <TextBlock
                            Height="32"
                            Margin="0,32,0,0"
                            FontWeight="Bold">
                            Auto Tower Climb
                        </TextBlock>

                    </StackPanel>

                    <StackPanel Margin="0,0,25,0" Orientation="Vertical">

                        <TextBlock Height="16" FontWeight="Bold">
                            SCORED
                        </TextBlock>

                        <NumericUpDown
                            Margin="0,16"
                            FormatString="0"
                            Minimum="0"
                            Value="{Binding AutoFuelScored}" />

                        <ComboBox
                            Width="150"
                            Margin="0,16"
                            SelectedItem="{Binding AutoTowerClimb, Mode=TwoWay}">
                            <ComboBox.Items>
                                <x:Static Member="vm:TowerClimb2026.Level1" />
                                <x:Static Member="vm:TowerClimb2026.Failed" />
                                <x:Static Member="vm:TowerClimb2026.DidNotAttempt" />
                            </ComboBox.Items>
                        </ComboBox>

                    </StackPanel>

                    <StackPanel Orientation="Vertical">

                        <TextBlock Height="16" FontWeight="Bold">
                            MISSED
                        </TextBlock>

                        <NumericUpDown
                            Margin="0,16"
                            FormatString="0"
                            Minimum="0"
                            Value="{Binding AutoFuelMissed}" />

                    </StackPanel>

                </StackPanel>

                <!--  Auto Obstacles  -->
                <StackPanel
                    Grid.Row="3"
                    Grid.Column="0"
                    Grid.ColumnSpan="2"
                    Margin="0,20,0,0"
                    HorizontalAlignment="Center"
                    Orientation="Horizontal">

                    <TextBlock
                        Height="32"
                        Margin="0,0,20,0"
                        FontWeight="Bold">
                        Obstacles Used:
                    </TextBlock>

                    <CheckBox
                        Margin="0,0,20,0"
                        Content="Bump"
                        IsChecked="{Binding AutoUsedBump}" />

                    <CheckBox
                        Content="Trench"
                        IsChecked="{Binding AutoUsedTrench}" />

                </StackPanel>

                <!--  Auto Intake  -->
                <StackPanel
                    Grid.Row="4"
                    Grid.Column="0"
                    Grid.ColumnSpan="2"
                    Margin="0,20,0,0"
                    HorizontalAlignment="Center"
                    Orientation="Horizontal">

                    <TextBlock
                        Height="32"
                        Margin="0,0,20,0"
                        FontWeight="Bold">
                        Intake From:
                    </TextBlock>

                    <CheckBox
                        Margin="0,0,20,0"
                        Content="Depot"
                        IsChecked="{Binding AutoIntakeDepot}" />

                    <CheckBox
                        Margin="0,0,20,0"
                        Content="Outpost"
                        IsChecked="{Binding AutoIntakeOutpost}" />

                    <CheckBox
                        Content="Neutral Zone"
                        IsChecked="{Binding AutoIntakeNeutralZone}" />

                </StackPanel>

            </Grid>

            <!--  TeleOp  -->
            <Grid
                Grid.Row="4"
                Grid.Column="0"
                Grid.ColumnSpan="4"
                Margin="0,20,0,20"
                HorizontalAlignment="Center"
                ColumnDefinitions="Auto,Auto"
                IsVisible="{Binding SelectedHeadingButton, Converter={StaticResource EnumToBooleanConverter}, ConverterParameter={x:Static vm:HeadingButtons.TeleOp}}"
                RowDefinitions="Auto,Auto,Auto,Auto,Auto,Auto,Auto,Auto">

                <!--  FUEL Scoring  -->
                <StackPanel
                    Grid.Row="0"
                    Grid.ColumnSpan="2"
                    HorizontalAlignment="Center"
                    Orientation="Horizontal">

                    <StackPanel Margin="0,0,25,0" Orientation="Vertical">
                        <TextBlock
                            Height="32"
                            Margin="0,32,0,0"
                            FontWeight="Bold">
                            FUEL into HUB
                        </TextBlock>
                    </StackPanel>

                    <StackPanel Margin="0,0,25,0" Orientation="Vertical">
                        <TextBlock Height="16" FontWeight="Bold">
                            SCORED
                        </TextBlock>
                        <NumericUpDown
                            Margin="0,16"
                            FormatString="0"
                            Minimum="0"
                            Value="{Binding TeleOpFuelScored}" />
                    </StackPanel>

                    <StackPanel Orientation="Vertical">
                        <TextBlock Height="16" FontWeight="Bold">
                            MISSED
                        </TextBlock>
                        <NumericUpDown
                            Margin="0,16"
                            FormatString="0"
                            Minimum="0"
                            Value="{Binding TeleOpFuelMissed}" />
                    </StackPanel>

                </StackPanel>

                <!--  TeleOp Obstacles  -->
                <StackPanel
                    Grid.Row="1"
                    Grid.ColumnSpan="2"
                    Margin="0,20,0,0"
                    HorizontalAlignment="Center"
                    Orientation="Horizontal">

                    <TextBlock
                        Height="32"
                        Margin="0,0,20,0"
                        FontWeight="Bold">
                        Obstacles Used:
                    </TextBlock>

                    <CheckBox
                        Margin="0,0,20,0"
                        Content="Bump"
                        IsChecked="{Binding TeleOpUsedBump}" />

                    <CheckBox
                        Content="Trench"
                        IsChecked="{Binding TeleOpUsedTrench}" />

                </StackPanel>

                <!--  TeleOp Intake  -->
                <StackPanel
                    Grid.Row="2"
                    Grid.ColumnSpan="2"
                    Margin="0,20,0,0"
                    HorizontalAlignment="Center"
                    Orientation="Horizontal">

                    <TextBlock
                        Height="32"
                        Margin="0,0,20,0"
                        FontWeight="Bold">
                        Intake From:
                    </TextBlock>

                    <CheckBox
                        Margin="0,0,20,0"
                        Content="Depot"
                        IsChecked="{Binding TeleOpIntakeDepot}" />

                    <CheckBox
                        Margin="0,0,20,0"
                        Content="Outpost"
                        IsChecked="{Binding TeleOpIntakeOutpost}" />

                    <CheckBox
                        Content="Neutral Zone"
                        IsChecked="{Binding TeleOpIntakeNeutralZone}" />

                </StackPanel>

                <!--  Tower Climb  -->
                <TextBlock
                    Grid.Row="3"
                    Grid.Column="0"
                    Height="32"
                    Margin="0,20,20,0"
                    FontWeight="Bold">
                    Tower Climb:
                </TextBlock>
                <ComboBox
                    Grid.Row="3"
                    Grid.Column="1"
                    Width="180"
                    Margin="0,20,0,0"
                    SelectedItem="{Binding TowerClimb, Mode=TwoWay}">
                    <ComboBox.Items>
                        <x:Static Member="vm:TowerClimb2026.Level1" />
                        <x:Static Member="vm:TowerClimb2026.Level2" />
                        <x:Static Member="vm:TowerClimb2026.Level3" />
                        <x:Static Member="vm:TowerClimb2026.Failed" />
                        <x:Static Member="vm:TowerClimb2026.DidNotAttempt" />
                    </ComboBox.Items>
                </ComboBox>

                <!--  Breakdown  -->
                <TextBlock
                    Grid.Row="4"
                    Grid.Column="0"
                    Height="32"
                    Margin="0,20,20,0"
                    FontWeight="Bold">
                    Breakdown:
                </TextBlock>
                <ComboBox
                    Grid.Row="4"
                    Grid.Column="1"
                    Width="180"
                    Margin="0,20,0,0"
                    SelectedItem="{Binding Breakdown, Mode=TwoWay}">
                    <ComboBox.Items>
                        <x:Static Member="vm:Breakdown2026.None" />
                        <x:Static Member="vm:Breakdown2026.Tipped" />
                        <x:Static Member="vm:Breakdown2026.MechanicalFailure" />
                        <x:Static Member="vm:Breakdown2026.Incapacitated" />
                        <x:Static Member="vm:Breakdown2026.Disabled" />
                        <x:Static Member="vm:Breakdown2026.Beached" />
                    </ComboBox.Items>
                </ComboBox>

                <!--  Defense Rating  -->
                <TextBlock
                    Grid.Row="5"
                    Grid.Column="0"
                    Height="32"
                    Margin="0,20,20,0"
                    FontWeight="Bold">
                    Defense Rating (0-5):
                </TextBlock>
                <NumericUpDown
                    Grid.Row="5"
                    Grid.Column="1"
                    Width="180"
                    Margin="0,20,0,0"
                    FormatString="0"
                    Maximum="5"
                    Minimum="0"
                    Value="{Binding DefenseRating}" />

                <!--  Notes  -->
                <TextBlock
                    Grid.Row="6"
                    Grid.Column="0"
                    Height="32"
                    Margin="0,20,20,0"
                    FontWeight="Bold">
                    Notes:
                </TextBlock>
                <TextBox
                    Grid.Row="6"
                    Grid.Column="1"
                    Width="250"
                    Height="100"
                    Margin="0,20,0,0"
                    AcceptsReturn="True"
                    Text="{Binding Notes}"
                    TextWrapping="Wrap" />

            </Grid>

        </Grid>

    </ScrollViewer>

</UserControl>
